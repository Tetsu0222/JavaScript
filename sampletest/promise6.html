<!DOCTYPE html>
<html>

    <body>

        <script>

            //Promiseオブジェクトの生成
            let instance = new Promise( ( resolve , reject ) => {

                //コンストラクタへ渡す非同期処理
                setTimeout( () => { 

                    const rand = Math.floor( Math.random() * 11 );  //0～10までの間でいずれかの数値を取得

                    //取得した数値によって処理を分岐(thenかcatch)
                    if( rand <5 ){
                        reject( rand );

                    }else{
                        resolve( rand );
                    }
                } , 1000 );     //1秒後に実行
            });


            instance = instance.then( value => {
                alert( "５以上の値" + value + "が渡ってきました" );
            })
            .catch( errorValue => {
                alert( "5未満の値" + errorValue + "が渡ってきました" );
            })
            .finally( () => {
                console.log( "処理を終了します" );
            });


            //rejectへ値がわたるとthen
            //resolveへ値がわたるとcatchへ処理が分岐
            //finallyはいずれの場合でも実行される。

        </script>
        
    </body>

</html>