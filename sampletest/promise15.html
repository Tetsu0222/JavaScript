<!DOCTYPE html>
<html>

    <body>

        
        <form name="contact">
            <label>氏名</label>
            <input type="text" name="name" id="name">

            <label>法人名</label>
            <input type="text" name="company" id="company">

            <button id="register">登録</button>    
        </form>

        <label id="test" class="test"></label>
        
        <script>

            
            let is_error = false;

            /*
            window.addEventListener('change', function(){
                if( is_error ){
                    document.getElementById("test").style.display ="block"; //登録完了の文字を表示
                }
            });
            */

            //登録ボタンのElementを取得
            const registerBt = document.querySelector( "#register" );

            const register2Bt = document.querySelector( "#register2" );

            //登録ボタンにイベントリスナーを設定
            registerBt.addEventListener('click', function( event ){
                callApi();
            });

            function callApi(){
                const formElements = document.forms.contact;    //フォーム全体の要素を取得
                const name = formElements.name.value;           //name属性の入力値を取得
                const company = formElements.company.value;     //company属性の入力値を取得
                is_error = true;
                //alert( name + company );
                console.log( is_error );
                callApi2();
            }

            function callApi2(){
                if( is_error ){
                    document.getElementById("test").innerText = "登録完了";
                }
            }


            //同期でも非同期でも、formに入力した値と一緒に、変更点が消える。

        </script>
        
    </body>

</html>