<!DOCTYPE html>
<html>

    <body>

        <script>

            let val = -1;

            function timer(){
                setTimeout( function() {
                    //0～10のランダムな値を取得
                    val = Math.floor( Math.random() * 11 ); //本来は、この反映の後に、後続の処理を実行したい。
                } , 1000 );
            }

            timer();


            console.log( val );     //-1 が出力

            //後続の処理を実行しても、非同期処理による変更が反映されていない。
            //そのため、初期に宣言している「－1」がそのまま出力される。



            //変数宣言、コンソール出力のコードが先に実行
            //コールスタックが空になったため、イベントループがそれを検知
            //非同期処理のtimer()が実行され、タスクキューへ登録される。

            //つまり、コンソール出力のコードが実行された後
            //非同期処理のtimer()が実行されるため、非同期処理で行われている結果を取得できていない。
            

        </script>
        
    </body>

</html>