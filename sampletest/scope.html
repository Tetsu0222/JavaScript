<html>

    <body>

        <script>

            //実行中のコードから参照できる変数や関数の範囲のことをスコープと呼ぶ。


            //グローバルスコープ
            //トップレベルもしくはscriptタグの直下に置かれている変数や関数が属するスコープ
            var aaa = "AAA";    //コード内であれば、どこからでも参照できる。

            
            //関数スコープ
            //関数内で宣言された変数や関数が属するスコープ
            function A(){
                let valA = "A";         //関数スコープに属する変数
                console.log( valA );    //同じ関数内であるため、参照可能
            }

            function B(){
                console.log( valA );    //関数が異なるため、参照できずにエラーが発生する。
                console.log( aaa );     //グローバルスコープに属する変数は参照可能
            }


            //ブロックスコープ
            //for文やif文などの{}で囲われた範囲内で宣言された関数や変数が属するスコープ
            //{}の外からは参照できない。
            if( true ){
                let Valif = "if";   //ブロックスコープに属する変数7
                var Valvar = "var"; //ブロック内で宣言されているが、varで宣言された変数は1つ外側のスコープに属する。
            }

            if( true ){
                console.log( Valif );   //ブロック外のため、変数を参照できずにエラーが発生する。
                console.log( Valvar );  //varが出力される。今回のケースでは、Valvarはグローバルスコープに属している。
            }

            

        </script>
        
    </body>

</html>